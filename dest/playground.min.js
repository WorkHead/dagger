!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){"use strict";function r(e){this.el={},o.default.isString(e)&&(this.el=document.querySelectorAll(e)),o.default.isElement(e)&&(this.el=e)}function i(e){return new r(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=function(e){return e&&e.__esModule?e:{default:e}}(a);r.prototype={constructor:r,val:function(e){return i.isVoid(e)?this.el[0]&&(this.el[0].value||""):(i.each(this.el,function(t){t.value=e}),this)},attr:function(e,t){return i.isVoid(t)?this.el[0]&&(this.el[0].getAttribute(e)||""):(i.each(this.el,function(n){n.setAttribute(e,t)}),this)},getEl:function(){return i.isArrayLike(this.el)?this.el:null},addClass:function(e){i.isArrayLike(this.el)?i.each(this.el,function(t){i(t).hasClass(e)||(t.className+=t.className.length>0?" "+e:e)}):this.el.className+=this.el.className.length>0?" "+e:e},removeClass:function(e){i.isArrayLike(this.el)?i.each(this.el,function(t){i(t).hasClass(e)&&(0==t.className.indexOf(e)?t.className=t.className.replace(e,""):t.className=t.className.replace(" "+e,""))}):0==this.el.className.indexOf(e)?this.el.className=this.el.className.replace(e,""):this.el.className=this.el.className.replace(" "+e,"")},hasClass:function(e){if(i.isElement(this.el))return this.el.className.indexOf(e)>-1}},o.default.extend(i,o.default),t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function r(e){if(m.default.isVoid(e)||!m.default.isString(e))throw new Error("template error");var t=(0,y.parseHTML)(e),r=(0,y.genVnodeExp)(t);u=a(r,n,s),s.vNode=u,m.default.isArrayLike(i)&&m.default.isElement(i[0])&&(s.conEle=i[0],o(u,i[0],n),m.default.callFun(s.onLoad,s))}var i=(0,m.default)(t.startsWith("#")?t:"#"+t).getEl(),s=new x.default({conEle:{},vDom:{},vExp:"",scope:n}),u={};return c(s),_.test(e)?m.default.http({url:e,success:r}):r(e),s}function a(e,t,n){var r=new Function("_c","_ct","_cm","scope",e);try{return n.vExp=e,r(g.createVNode,g.createVTextNode,w,t)}catch(e){throw new Error("template parse error")}}function o(e,t,n){var r=e.children,i=void 0;if("root"===e.tName)for(i=t,e.ele=t;i.childNodes.length>0;)i.removeChild(i.firstChild);else{if(!e.shouldRender&&!m.default.isArray(e))return s(e,t);m.default.isArray(e)&&m.default.each(e,function(e){o(e,t,n)}),i=u(e,t,n)}return m.default.each(r,function(e){o(e,i,n)}),i}function s(e,t){var n="if ---- <"+e.tName+"/> ---- if",r=document.createComment(n);return t.appendChild(r),e.ele=r,r}function u(e,t,n){var r=e.nodeType,i=void 0,a=void 0,o=void 0,s=void 0,u=void 0,c=void 0;switch(r){case 1:i=e.attrs,a=i.stat,o=i.dyn,u=e.classObj,c=e.events,s=m.default.createEle(e.tName);break;case 2:s=m.default.createTxtNode(e.text)}return m.default.each(a,function(e,t){s.setAttribute(t,e)}),m.default.each(o,function(e,t){s.setAttribute(t,e),":model"==t&&d(s,n,e)}),m.default.each(u,function(e,t){e&&(0,m.default)(s).addClass(t)}),m.default.each(c,function(e,t){s.addEventListener(t,e)}),e.ele=s,m.default.isElement(t)&&m.default.isElement(s)&&t.appendChild(s),s}function c(e){l(e.scope,e)}function l(e,t){m.default.isObject(e)?Object.keys(e).forEach(function(n){f(e,n,e[n],t)}):m.default.isArray(e)&&p(e,t)}function d(e,t,n){e.addEventListener("input",function(r){t[n]=e.value})}function f(e,t,n,r){(m.default.isObject(n)||m.default.isArray(n))&&l(n,r),m.default.defProp(e,t,function(){return n},function(e){e!==n&&(n=e,l(e,r),h(r))})}function h(e){var t=a(e.vExp,e.scope,e);(0,N.default)(e.vNode,t,e.conEle,e.scope),m.default.callFun(e.onUpdate,e)}function p(e,t){var n=Object.create(Array.prototype),r=["push","pop","shift","unshift","splice","sort","reverse"];m.default.each(r,function(r){m.default.defProp(n,r,function(){var n=Array.prototype.slice.call(arguments),i=Array.prototype[r].apply(e,n);return h(t),l(e,t),i})}),e.__proto__=n}Object.defineProperty(t,"__esModule",{value:!0}),t.renderToDom=t.render=void 0;var v=n(0),m=r(v),y=n(5),g=n(8),b=n(3),x=r(b),E=n(4),N=r(E),_=/\w+\.html$/,w=m.default.dMap.bind(m.default);t.render=i,t.renderToDom=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$=t.render=void 0;var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(1);t.render=a.render,t.$=i.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.vDom=t.vDom,this.vExp=t.vExp,this.conEle=t.conEle,this.scope=t.scope}return i(e,[{key:"onLoad",value:function(){console.info("load success")}},{key:"onUpdate",value:function(){console.info("update success")}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e,t,n,r){if("root"==e.tName)return i(e.children,t.children,e.ele,r);var o=e.ele;c.default.each(t,function(u,d){switch(d){case"attrs":a(e.attrs.dyn,u.dyn,o),e.attrs.dyn=u.dyn;break;case"children":i(e.children,u,o,r);break;case"shouldRender":u!==e[d]&&(n.replaceChild((0,l.renderToDom)(t,c.default.createEle(t.tName),r),o),e[d]=u);break;case"text":u!==e[d]&&(n.innerText=u,e[d]=u);break;case"classObj":s(e.classObj,u,o),e.classObj=u}})}function i(e,t,n,i){c.default.each(t,function(t,a){c.default.isArray(t)?o(e[a],t,n,i):r(e[a],t,n,i)})}function a(e,t,n){c.default.each(t,function(t,r){(c.default.isVoid(e[r])||e[r]!=t)&&n.setAttribute(r,t)})}function o(e,t,n,i){var a=e[e.length-1].ele.nextSibling;if(c.default.each(t,function(t,o){c.default.isVoid(e[o])?(n.insertBefore((0,l.renderToDom)(t,c.default.createEle(t.tName),i),a),e.push(t)):r(e[o],t,n,i)}),e.length>t.length){var o=e.splice(t.length);c.default.each(o,function(e){n.removeChild(e.ele)})}}function s(e,t,n){c.default.each(t,function(t,r){t&&!e[r]?(0,c.default)(n).addClass(r):!t&&e[r]&&(0,c.default)(n).removeClass(r)})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),l=n(1);t.default=r},function(e,t,n){"use strict";function r(e){for(var t=[],n=void 0,r={tName:"root",attrs:"",children:[],parent:{},type:1},a={},o=r;n=v.exec(e);){var s=n[1],u=i(n[0]),c=n[3];if(!p.default.isVoid(s))if(s.startsWith("/")){var l=s.slice(1);if(t.pop().trim()!==l.trim())throw new Error("template parse Error!");o=o.parent,a=a.parent}else{t.push(s);var d={tName:s,attrs:u,children:[],parent:o,type:1};o.children.push(d),a=o,o=d,p.default.isString(c)&&o.children.push({parent:o,type:2,text:c})}}return r}function i(e){var t=e.match(m);return p.default.isArray(t)?t:[]}function a(e){return"with(scope){return "+o(e)+"}"}function o(e,t){var n=e.type,r=(e.parent,e.attrs),i=void 0,a=void 0,o="true",h="{",v='"stat": {',m='"dyn": {',g=!1,b="",E="{}",N="{";if(p.default.isEmptyArr(r)||p.default.isVoid(r))h+="}";else{for(var _=0,w=[];_<r.length;_++)w=r[_].split("="),w[1]=w.slice(1).join("="),y.test(w[1])||y.test(w[0])?(w[1]=l(w[1]),m+='"'+w[0]+'": '+w[1]+","):v+='"'+w[0]+'":'+w[1]+",",":if"==w[0]&&(o=d(w[1])),":for"==w[0]&&(g=!0,b=w[1]),":class"==w[0]&&(E=d(w[1])),":model"==w[0]&&(m+='"value":'+d(w[1])+","),x.test(w[0])&&(N+='"'+f(w[0])+'": '+d(w[1])+",");v+="}",m+="}",h+=v+",",h+=m+"}"}switch(N+="}",n){case 1:return a=e.tName.trim(),i=e.children,!g||t?'_c("'+a+'",'+h+", "+n+", !!("+o+") ,"+E+", "+N+", ["+s(i)+"])":u(e,b);case 2:return"_ct("+c(e.text)+", 2)";default:return'_c("div", {}, 1 ,true, {}, {}, [])'}}function s(e){return p.default.dMap(e,function(e){return o(e)})}function u(e,t){var n=t.match(b);return"_cm("+n[2]+", function("+n[1]+", $index){return "+o(e,!0)+"})"}function c(e){return y.test(e)?(e=l(e),g.test(e)?"(function(){ return "+e+"})()":e):'"'+e+'"'}function l(e){return e.replace(/\{{2}|\}{2}|\b/g,"")}function d(e){return e.replace(/"/g,"")}function f(e){return e.replace(":","")}Object.defineProperty(t,"__esModule",{value:!0}),t.genVnodeExp=t.parseHTML=void 0;var h=n(0),p=function(e){return e&&e.__esModule?e:{default:e}}(h),v=(n(7),/<(\/?\w+?\s?)(\:?\w+=(?:"|'|{).+?(?:"|'|})\s?)*>(?:\s*?\n*?\s*?)(.+?)??(?:\s*?\n*?\s*?)(?=<\/?\w+?\s?(?:\:?\w+=(?:"|'|{).+?(?:"|'|})\s?)*>|$)/g),m=/(\:?\w+=((".+?")|({.+?})|('.+?'))\s?)/g,y=/(\:\w+)|(\{\{.+?\}\})/,g=/\+|-|\?|!|\*|\/|<|>|\[|\]/g,b=/(\w+)\s*in\s*(\w+)/,x=/^\:((click)|(input)|(change)|(touchstart)|(touchmove)|(touchend)|(scroll))$/;t.parseHTML=r,t.genVnodeExp=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={toString:function(e){return Object.prototype.toString.call(e)},isArray:function(e){return"[object Array]"===this.toString(e)},isObject:function(e){return"[object Object]"===this.toString(e)&&null!==e},isNumber:function(e){return"[object Number]"===this.toString(e)},isString:function(e){return"[object String]"===this.toString(e)},isFunction:function(e){return"[object Function]"===this.toString(e)},isElement:function(e){var t=/\[object HTML(?:\w+?)Element\]/,n=this.toString(e);return t.test(n)||"[object DocumentFragment]"===n||"[object Text]"===n},isVoid:function(e){return null===e||void 0===e||e!==e},isArrayLike:function(e){return this.isArray(e)||!this.isVoid(e)&&!this.isVoid(e.length)&&!this.isVoid(e[e.length-1])},isEmptyStr:function(e){return this.isString(e)&&""==e},isEmptyArr:function(e){return this.isArray(e)&&0===e.length},callFun:function(e,t){var n=arguments,r=n[2];return e.apply(t,this.isArrayLike(r)?r:Array.prototype.slice.call(n,2))},each:function(e,t){if(this.isArrayLike(e))for(var n=0;n<e.length;n++)this.callFun(t,e[n],[e[n],n,e]);else if(this.isObject(e))for(var r in e)e.hasOwnProperty(r)&&this.callFun(t,e[r],[e[r],r])},dMap:function(e,t){var n=new Array(e.length);if(this.isArrayLike(e))for(var r=0;r<e.length;r++)n[r]=this.callFun(t,e[r],[e[r],r,e]);else if(this.isObject(e))for(var i in e)e.hasOwnProperty(i)&&(n[i]=this.callFun(t,e[i],e[i]));return n},extend:function(e,t){for(var n in t)e[n]=t[n];return e},http:function(){function e(){var e=void 0;4===u.readyState&&(200===u.status?(e=u.response,"json"==c&&r.isString(e)&&(e=JSON.parse(e)),o(e)):s(new Error(u.statusText)))}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.url,i=t.method||"get",a=t.data,o=t.success,s=t.fail,u=new XMLHttpRequest,c=t.resType||"text";"get"!=i||r.isVoid(a)||(n+=/\?/.test(n)?"&"+a:"?"+a,a=null),u.open(i,n,!0),u.onreadystatechange=e;try{u.responseType=c}catch(e){u.setRequestHeader("responseType",c)}u.setRequestHeader("Content-Type",t.contentType||"application/x-www-form-urlencoded;charset=utf-8"),u.send(a)},defProp:function(e,t,n,r){return this.isFunction(n)&&this.isFunction(r)?Object.defineProperty(e,t,{enumerable:!0,configurable:!0,set:r,get:n}):Object.defineProperty(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n})},createEle:function(e){return document.createElement(e)},createTxtNode:function(e){return document.createTextNode(e)}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NODETYPES={Element:1,Text:2,Comment:3}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=new c({tName:arguments.length<=0?void 0:arguments[0],attrs:arguments.length<=1?void 0:arguments[1],nodeType:arguments.length<=2?void 0:arguments[2],shouldRender:arguments.length<=3?void 0:arguments[3],classObj:arguments.length<=4?void 0:arguments[4],events:arguments.length<=5?void 0:arguments[5],children:arguments.length<=6?void 0:arguments[6]});return!u.default.isVoid(arguments.length<=6?void 0:arguments[6])&&u.default.each(arguments.length<=6?void 0:arguments[6],function(t){t.parent=e}),e}function a(){return new l({text:arguments.length<=0?void 0:arguments[0],nodeType:arguments.length<=1?void 0:arguments[1]})}function o(){return new d({text:arguments.length<=0?void 0:arguments[0],nodeType:arguments.length<=1?void 0:arguments[1]})}Object.defineProperty(t,"__esModule",{value:!0}),t.createComment=t.createVTextNode=t.createVNode=void 0;var s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function e(t){r(this,e),this.tName=t.tName,this.attrs=t.attrs,this.children=t.children,this.nodeType=t.nodeType,this.shouldRender=t.shouldRender,this.classObj=t.classObj,this.events=t.events},l=function e(t){r(this,e),this.text=t.text,this.nodeType=t.nodeType,this.shouldRender=!0},d=function e(t){r(this,e),this.text=t.text,this.nodeType=t.nodeType};t.createVNode=i,t.createVTextNode=a,t.createComment=o},,function(e,t,n){"use strict";function r(){var e=(0,i.$)(".template").getEl()[0].value,t=new Function("return "+(0,i.$)(".scope").getEl()[0].value).call(null);(0,i.render)(e,"result",t)}var i=n(2);!function(){(0,i.$)(".template").getEl()[0].innerHTML='<div id="test" class="123" :if="num1 > 1" :click="ckck">\n    <p class="cbd">{{text1}}</p>\n</div>\n<p :if="num1 <= 1">aaaaaaaaaaaaaaaa123123123</p>\n<div :class="{\'test\': num1 > 1, \'test1\': num1 < 1}">{{text2}}</div>\n<p :for="a in arr"  :if="a > 1">\n    <span>{{$index + \':\'}}</span><span>{{a}}</span>\n</p>\n<span>{{dd}}</span>\n<input :model="dd"></input>\n',(0,i.$)(".scope").getEl()[0].innerHTML="{\n   text1: 'text1',\n   text2: 'text2',\n   num1: 2,\n   num3: 3,\n   arr:  [1,2,3,4],\n   obj: {\n       qq: 1,\n       bb: {\n           cc: 2\n       }\n   },\n   dd: 'dddddddd',\n   ckck: function () {\n       console.log('ckck');\n   }\n}\n",(0,i.$)(".run").getEl()[0].addEventListener("click",r),r()}()}]);